<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <title></title>
</head>
<body>
   <div id="wrapper">
       <div class=container>
           <div class="left-side">
                <div id="bar-chart" style="width: 700px; height: 400px; margin: 0 auto"></div>
           </div>

           <div class="right-side">

           </div>
       </div>
   </div>


   <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
<script>
$(function () {
    var options = {
        chart: {
            type: 'column'
        },
        title: {
            text: 'Melbourne Pedestrian Crash Count 2009-2013'
        },
        subtitle: {
            text: 'Source: <a href="https://data.melbourne.vic.gov.au/ ">City of Melbourne</a>'
        },
        xAxis: {
            type: 'category',
            labels: {
                rotation: -60,
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Pedestrian Crash Count'
            }
        },
        legend: {
            enabled: false
        },
        tooltip: {
            pointFormat: 'Pedestrian Crash Count: <b>{point.y} </b>'
        },
        series: [{
            name: 'Pedestrian crash count',
            data: [],
            dataLabels: {
                enabled: true,
                rotation: -90,
                color: '#FFFFFF',
                align: 'right',
                format: '{point.y}',
                y: 5, // 5 pixels down from the top
                style: {
                    fontSize: '13px',
                    fontFamily: 'Verdana, sans-serif'
                }
            }
        }],
        plotOptions: {
            series: {
                point: {
                    events: {
                        mouseOver: function () {
                            //console.log(this.x); this.x start from 0-23 (24 hours)
                        }
                    }
                },
                events: {
                    mouseOut: function () {
                        //this.x = 17
                    }
                }
            }
        }
    };
    $.getJSON('json/mel_ped_crash_count.json', function(data) {
        for (i = 0; i < data.length; i++){
            options.series[0].data.push([data[i].time_period, data[i].crash_count]);
        }

        $('#bar-chart').highcharts(options);
    });

});
</script>
</body>
</html>